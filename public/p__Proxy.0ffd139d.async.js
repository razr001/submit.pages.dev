(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"2kFR":function(J,L,e){"use strict";e.r(L);var de=e("DYRE"),V=e("zeV3"),oe=e("+L6B"),Y=e("2/Rp"),X=e("oBTY"),he=e("miYZ"),E=e("tsqr"),v=e("9og8"),A=e("tJVT"),fe=e("2qtc"),G=e("kLXV"),K=e("WmNS"),u=e.n(K),x=e("q1tI"),W=e("rmhi"),k=e("BiO0"),U=e("RCxd"),Z=e("/MfK"),pe=e("cWXX"),Q=e("/ezw"),je=e("R9oj"),q=e("ECub"),g=e("k1fw"),_=e("jYz7"),ee=e("M3gt"),te=e("iR1w"),me=e("gMDq"),a=e("nKUr");function ae(r){var o=r.rowHeight,f=r.rowCount,s=r.title,H=r.action,m=r.dataSource,y=r.columns,z=r.loading,S=r.showHeader,M=S===void 0?!0:S,C=r.onPage,O=Object(x.useState)(0),b=Object(A.a)(O,2),P=b[0],N=b[1],I=o+8,B=Object(x.useCallback)(function(p){var j=p.index,i=p.style,n=j<m.length?m[j]:null;return n?Object(a.jsx)("div",{style:Object(g.a)(Object(g.a)({},i),{},{height:o,borderRadius:"2px"}),className:"data-list-row",children:y.map(function(t){return Object(a.jsx)("div",{style:Object(g.a)({width:t.width||"100%",height:o,flexShrink:t.width?0:void 0,lineHeight:"".concat(o,"px"),textAlign:t.align,color:"rgba(255,255, 255, 0.95)",padding:"0 8px",overflow:"hidden",whiteSpace:"nowrap"},t.style),children:t.render?t.render(n[t.dataIndex],n,j):n[t.dataIndex]},t.key||t.dataIndex)})}):Object(a.jsx)("div",{style:Object(g.a)(Object(g.a)({},i),{},{margin:"0",background:"none",height:I,borderRadius:"2px"}),className:"data-list-cloumn",children:"loading..."})},[m,y]);return Object(a.jsxs)("section",{className:"data-list",children:[Object(a.jsxs)("header",{className:"data-list-header",children:[Object(a.jsx)("div",{children:s}),Object(a.jsx)("div",{className:"data-list-header-action",children:H})]}),Object(a.jsxs)(Q.a,{loading:z,children:[m.length>0&&M&&Object(a.jsxs)("div",{className:"data-list-cloumn",children:[y.map(function(p){return Object(a.jsx)("div",{style:{width:p.width||"100%",flexShrink:p.width?0:void 0,padding:"0 8px",textAlign:p.align},children:p.title},"".concat(p.title,"_").concat(p.dataIndex))}),m.length*I>P&&Object(a.jsx)("div",{style:{width:"6px",flexShrink:0}})]}),Object(a.jsx)("div",{className:"data-list-box",children:m.length===0?Object(a.jsx)("div",{style:{height:"80%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)(q.a,{description:!1})}):Object(a.jsx)(ee.a,{isItemLoaded:function(j){return j<m.length},itemCount:f||m.length,loadMoreItems:function(j,i){return C&&(console.log(j,i),C(j,i)),null},children:function(j){var i=j.onItemsRendered,n=j.ref;return Object(a.jsx)(_.a,{onResize:function(l){N(l.height)},children:function(l){var d=l.width,c=l.height;return Object(a.jsx)(te.a,{onItemsRendered:i,ref:n,width:d,height:c,itemCount:f||m.length,itemSize:function(){return I},children:B})}})}})})]})]})}var ne=ae,w=e("4Iue");function re(r){return R.apply(this,arguments)}function R(){return R=Object(v.a)(u.a.mark(function r(o){return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(w.b)("/api/proxy/list",{method:"GET",params:Object(g.a)({},o)}));case 1:case"end":return s.stop()}},r)})),R.apply(this,arguments)}function se(r){return T.apply(this,arguments)}function T(){return T=Object(v.a)(u.a.mark(function r(o){return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(w.d)("/api/proxy/add",{data:o}));case 1:case"end":return s.stop()}},r)})),T.apply(this,arguments)}function ie(r){return D.apply(this,arguments)}function D(){return D=Object(v.a)(u.a.mark(function r(o){return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(w.d)("/api/proxy/delete",{data:o}));case 1:case"end":return s.stop()}},r)})),D.apply(this,arguments)}function le(){return $.apply(this,arguments)}function $(){return $=Object(v.a)(u.a.mark(function r(){return u.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(w.b)("/api/proxy/deleteAll"));case 1:case"end":return f.stop()}},r)})),$.apply(this,arguments)}function ve(r){return F.apply(this,arguments)}function F(){return F=Object(v.a)(u.a.mark(function r(o){return u.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(w.b)("/api/proxy/getProxy",{params:Object(g.a)({},o)}));case 1:case"end":return s.stop()}},r)})),F.apply(this,arguments)}var ue=G.a.confirm,ce=function(){var o=Object(x.useState)(0),f=Object(A.a)(o,2),s=f[0],H=f[1],m=Object(x.useState)(!1),y=Object(A.a)(m,2),z=y[0],S=y[1],M=Object(x.useState)([]),C=Object(A.a)(M,2),O=C[0],b=C[1],P=function(){var i=Object(v.a)(u.a.mark(function n(t){var l;return u.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return S(!0),c.next=3,re({current:t,pageSize:10});case 3:l=c.sent,l&&(H(l.total),b(O.concat(l.data))),S(!1);case 6:case"end":return c.stop()}},n)}));return function(t){return i.apply(this,arguments)}}();Object(x.useEffect)(function(){P(1)},[]);var N=function(){var i=Object(v.a)(u.a.mark(function n(t){var l,d;return u.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return l=E.default.loading("\u6B63\u5728\u6DFB\u52A0"),h.next=3,se({proxy:t});case 3:if(d=h.sent,l(),!d){h.next=8;break}return E.default.success("\u6DFB\u52A0\u6210\u529F"),h.abrupt("return",!0);case 8:return h.abrupt("return",!1);case 9:case"end":return h.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),I=function(){var i=Object(v.a)(u.a.mark(function n(t,l){var d;return u.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,ie({ids:t});case 2:d=h.sent,d&&(O.splice(l,1),b(Object(X.a)(O)),E.default.success("\u5220\u9664\u6210\u529F"));case 4:case"end":return h.stop()}},n)}));return function(t,l){return i.apply(this,arguments)}}(),B=function(){var i=Object(v.a)(u.a.mark(function n(){var t;return u.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,le();case 2:t=d.sent,t&&(E.default.success("\u5220\u9664\u6210\u529F"),b([]));case 4:case"end":return d.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),p=function(){ue({title:"\u786E\u8BA4\u5220\u9664\u6240\u6709\u4EE3\u7406?",icon:Object(a.jsx)(U.a,{}),content:"",onOk:function(){B()},onCancel:function(){console.log("Cancel")}})},j=[{title:"IP",dataIndex:"ip"},{title:"\u7AEF\u53E3",dataIndex:"port"},{title:"\u7528\u6237\u540D",dataIndex:"username"},{title:"\u5BC6\u7801",dataIndex:"password"},{title:"\u521B\u5EFA\u65F6\u95F4",valueType:"dateTime",dataIndex:"createTime",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",width:"120px",align:"center",render:function(n,t,l){return Object(a.jsx)(Z.a,{onClick:function(){return I([t.id],l)}})}}];return Object(a.jsx)(ne,{loading:z,dataSource:O,rowHeight:40,rowCount:s,columns:j,onPage:function(n,t){return P(Math.floor(t/10)+1),null},action:Object(a.jsxs)(V.b,{children:[Object(a.jsx)(Y.a,{danger:!0,onClick:p,children:"\u5168\u90E8\u5220\u9664"}),Object(a.jsx)(W.a,{width:"500px",title:"\u6DFB\u52A0\u4EE3\u7406",trigger:Object(a.jsx)(Y.a,{type:"primary",children:" \u6DFB\u52A0\u4EE3\u7406"}),modalProps:{onCancel:function(){return console.log("run")}},onFinish:function(){var i=Object(v.a)(u.a.mark(function n(t){var l;return u.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,N(t.proxy);case 2:if(l=c.sent,!l){c.next=7;break}return c.next=6,P(1);case 6:return c.abrupt("return",!0);case 7:return c.abrupt("return",!1);case 8:case"end":return c.stop()}},n)}));return function(n){return i.apply(this,arguments)}}(),children:Object(a.jsx)(k.a,{name:"proxy",label:"\u4EE3\u7406",placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406,\u53EF\u8F93\u5165\u591A\u6761,\u4EE5\u56DE\u8F66\u5206\u5272",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406"}]})})]})})},ge=L.default=ce},gMDq:function(J,L,e){}}]);
